<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>

	<link rel="stylesheet" href="../common/bootstrap-4.6.0/css/bootstrap.min.css" >
	<script src="../common/js/jquery-3.5.1.min.js"></script>
	<script src="../common/bootstrap-4.6.0/js/bootstrap.bundle.min.js"></script>
	<script src="../common/bootstrap-4.6.0/js/bootstrap.min.js"></script>
		
	<script>
		/* var obj={};
		obj.name="홍길동";
		console.log(obj.name);
		
		var fun=function(){};
		fun.name2="홍길동";
		console.log(fun.name2); */
		
		const handleClick1 = () =>{
			$.get({url: "exam04_ajax_data.json"})		//data 는 json
			.done((data) => {
				const htmlFragment=`
					<div>
						<table class="table table-bordered">
							<tr class="bg-primary">
								<th>bno</th>
								<th>btitle</th>
								<th>bcontent</th>
							</tr>
							<tr>
								<td>${data.bno}</td>
								<td>${data.btitle}</td>
								<td>${data.bwriter}</td>
							</tr>
						</table>
					</div>
				`;
				
				$("#content").html(htmlFragment);
			})
			.fail((error) => {
				console.log("에러발생");
				console.log(error);
			})
			.always(() => {
				console.log("마무리 실행");
			});
		};
		
		const handleClick2 = () =>{
			$.post({url: "exam04_ajax_data2.html"})	
			.done((data) => {
				$("#content").html(data);
			})
			.fail((error) => {
				console.log(error);
			})
			.always(() => {
				console.log("마무리 실행");
			});
		};
	
	</script>

	
</head >
	<body>
		<div class="card">
			<div class="card-header">
				jQuery를 이용한 Ajax
			</div>
			
			<div class="card-body">	
			<a class="btn btn-success btn-sm" href="javascript:handleClick1()">AJAX 통신</a>
				<a class="btn btn-success btn-sm" href="javascript:handleClick2()">AJAX 통신</a>
				<hr/>
				<div id="content"></div>
			</div>
		</div>		
	</body>
</html>

